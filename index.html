<html style="font-size: 10px; font-family: Roboto, Arial, sans-serif" dark="">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1252" />
    <meta http-equiv="Cache-control" content="no-cache" />
    <title>Reza | Youtube LIve Chat</title>
    <link rel="stylesheet" type="text/css" href="src/css/yt-original.css" />
    <link rel="stylesheet" type="text/css" href="src/css/main.css" />

    <!-- Code mirror for css editor -->
    <!-- CodeMirror CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css"
    />
    <!-- Theme CSS (optional, choose your favorite theme) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css"
    />
    <!-- Linting CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/lint/lint.min.css"
    />
    <!-- Autocomplete CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.css"
    />

    <!-- components and Assets -->
    <script src="src/js/components/RenderButton.js"></script>
    <script src="src/js/components/ImageAssets.js"></script>
    <!-- Data -->
    <script src="src/js/ChatsData/GeneralChats.js"></script>
    <script src="src/js/ChatsData/SuperchatEvent.js"></script>
    <script src="src/js/ChatsData/MembershipEvent.js"></script>
    <script src="src/js/ChatsData/MembergiftEvent.js"></script>
    <script src="src/js/ChatsData/SuperSticker.js"></script>
    <!-- Core Functions -->
    <script type="text/javascript" src="src/js/jQuery.js"></script>
    <script src="src/js/RenderChats.js"></script>
    <style>
      body {
        color: #000;
        padding: 0 !important;
        background: #252432;
        margin: 0;
        overflow-y: scroll;
        overflow: hidden;
      }
      yt-live-chat-text-message-renderer:hover {
        background: unset !important;
      }
      body.autoscroll {
        overflow-y: auto;
      }

      body.no-scroll {
        overflow: hidden;
      }

      body.no-y-scroll {
        overflow-y: hidden;
      }

      .hidden {
        display: none;
      }

      textarea {
        --paper-input-container-input_-_white-space: pre-wrap;
      }

      .grecaptcha-badge {
        visibility: hidden;
      }

      yt-live-chat-renderer {
        height: 100vh;
        align-content: flex-end;
        background-color: transparent;
      }

      yt-live-chat-text-message-renderer[author-is-owner] {
        background-color: transparent;
      }

      yt-live-chat-renderer #contents {
        align-content: flex-end;
        flex-direction: column-reverse !important;
      }

      yt-live-chat-renderer #menu {
        display: none;
      }

      #items.yt-live-chat-item-list-renderer {
        flex: none !important;
      }

      div#menu {
        display: none !important;
      }

      .general-rz-class {
        color: #000;
        display: flex !important;
        flex-direction: row !important;
      }
      .button {
        margin-bottom: 10px;
      }

      .toggle-buttons {
        display: none;
      }
      a {
        color: inherit !important;
      }
    </style>

    <style>
      .CodeMirror {
        border: 1px solid #ccc;
        height: calc(100vh - 35px);
        max-height: 100vh;
        width: 500px !important;
        font-size: 14px !important;
        flex-grow: 1 !important;
      }
      #css-editor-wrapper {
        display: none;
        flex-direction: column !important;
      }

      #custom-css-input {
        background-color: #3d4455;
        color: white;
        flex-grow: 1;
        width: 100%;
        height: calc(100% - 50px);
        font-family: monospace;
        margin-bottom: 10px;
      }
      #apply-css-btn {
        width: 100%;
        padding: 10px;
        background-color: #4caf50;
        color: white;
        border: none;
        cursor: pointer;
      }
      #custom-style-output {
        display: none;
      }
    </style>
  </head>

  <body class="general-rz-class">
    <yt-live-chat-app>
      <yt-live-chat-renderer
        class="style-scope yt-live-chat-app"
        hide-timestamps=""
        has-ticker=""
        has-input-action-panel=""
        style="--scrollbar-width: 15px"
      >
        <yt-live-chat-item-list-renderer
          class="style-scope yt-live-chat-renderer"
        >
          <div
            id="contents"
            class="style-scope yt-live-chat-item-list-renderer"
            style="display: flex; flex-direction: column-reverse !important"
          >
            <div
              id="items"
              class="style-scope yt-live-chat-item-list-renderer"
              style="transform: translateY(-40px)"
            ></div>
            <div
              id="render-chat-buttons"
              class="renderBtn"
              style="
                display: flex;
                flex-direction: row;
                justify-content: center;
              "
            ></div>
          </div>
        </yt-live-chat-item-list-renderer>
      </yt-live-chat-renderer>
    </yt-live-chat-app>
    <div id="css-editor-wrapper">
      <textarea id="css-editor"></textarea>
      <button id="apply-css-btn">Apply CSS</button>
    </div>

    <style id="custom-style-output"></style>
  </body>
  <script>
    function toggleButtons(buttonId) {
      var button = document.getElementById(buttonId);
      var toggleButtons = button.nextElementSibling;
      toggleButtons.style.display =
        toggleButtons.style.display === "none" ? "flex" : "none";
      var allToggleButtons = document.getElementsByClassName("toggle-buttons");
      for (var i = 0; i < allToggleButtons.length; i++) {
        if (allToggleButtons[i] !== toggleButtons) {
          allToggleButtons[i].style.display = "none";
        }
      }
    }

    document
      .getElementById("apply-css-btn")
      .addEventListener("click", function () {
        const editorContent = editor.getValue(); // Get the content from the CodeMirror editor
        const customStyleOutput = document.getElementById(
          "custom-style-output"
        );

        // Clear the existing styles
        customStyleOutput.innerHTML = "";

        try {
          // Apply the new CSS to the <style> element
          customStyleOutput.innerHTML = editorContent;
        } catch (error) {
          console.error("Error applying custom CSS:", error);
          alert("Invalid CSS. Please check your syntax.");
        }
      });

    // code mirror adds on

    // Initialize CodeMirror
  </script>
  <!-- CodeMirror JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
  <!-- CSS Mode -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/css/css.min.js"></script>
  <!-- Linting Addon -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/lint/lint.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/lint/css-lint.min.js"></script>
  <!-- Autocomplete Addon -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/css-hint.min.js"></script>
  <!-- Search and Replace Addon -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/search/search.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/search/searchcursor.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/dialog/dialog.min.js"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/dialog/dialog.min.css"
  />
  <!-- Auto Close Brackets Addon -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
  <!-- Comment Addon -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/comment/comment.min.js"></script>

  <script>
    var editor = CodeMirror.fromTextArea(
      document.getElementById("css-editor"),
      {
        mode: "css", // Set the mode to CSS
        lineNumbers: true, // Show line numbers
        theme: "monokai", // Set the theme (you can change this to 'default', 'material', etc.)
        autoCloseBrackets: true, // Automatically close brackets
        matchBrackets: true, // Highlight matching brackets
        lineWrapping: true, // Enable line wrapping
        lint: true, // Enable linting (requires css-lint.js)
        gutters: ["CodeMirror-lint-markers"], // Add linting gutters
        extraKeys: {
          "Ctrl-Space": "autocomplete", // Enable autocomplete with Ctrl+Space
          "Ctrl-F": "findPersistent", // Enable search with Ctrl+F
          "Ctrl-/": "toggleComment", // Enable comment/uncomment with Ctrl+/
        },
      }
    );

    function flattenJSON(obj, prefix = "", result = {}) {
      for (const key in obj) {
        const value = obj[key];
        const prefixedKey = prefix ? `${prefix}${key}` : key;

        if (
          typeof value === "object" &&
          value !== null &&
          !Array.isArray(value)
        ) {
          flattenJSON(value, "", result);
        } else {
          result[prefixedKey] = value;
        }
      }
      return result;
    }

    function handleImport() {
      try {
        const rawInput = document.getElementById("jsonInput").value;
        const parsedJSON = JSON.parse(rawInput);

        const flatJSON = flattenJSON(parsedJSON);

        for (const [key, value] of Object.entries(flatJSON)) {
          localStorage.setItem(key, value);
        }

        alert("✅ JSON imported successfully!");
        location.reload();
      } catch (err) {
        alert("❌ Failed to import JSON. Please check formatting.");
        console.error(err);
      }
    }
  </script>
</html>
